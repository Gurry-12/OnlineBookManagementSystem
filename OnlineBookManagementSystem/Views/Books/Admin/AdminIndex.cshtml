@{
    ViewData["Title"] = "Books Data";
    //Layout = "_LayoutMain";
}
@model IEnumerable<OnlineBookManagementSystem.Models.Book>

<link href="~/css/booksindex.css" rel="stylesheet" />

<!-- 📚 Quote and New Arrivals -->
<div class="row mb-4">
    <div class="col-md-6">
        <div class="quote-box">
            <p>“There is more treasure in books than in all the pirate's loot on Treasure Island.”</p>
            <p class="text-end">- Walt Disney</p>
        </div>
    </div>
    
</div>


<!-- 🔒 Admin-only section -->
<div id="adminSection" style="display: none;" class="mt-4">
    <h5>Admin Controls</h5>
    <a asp-controller="Books" asp-action="CreateBookData" class="btn btn-success">➕ Add New Book</a>
    <a asp-action="UserList" asp-controller="Books" class="btn btn-secondary">👥 Manage Users</a>

    <div class="container d-flex gap-3 mt-3 ">
        @foreach (var data in Model)
        {
            <div class="book-card">
                <!-- Dropdown button for options -->
                <button class="position-absolute translate-middle btn btn-link z-3 end-0 "   data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-three-dots-vertical"></i>
                </button>

                <!-- Dropdown menu -->
                <ul class="dropdown-menu border-0 ">
                    <li><a class="dropdown-item text-warning" asp-controller="Books" asp-action="GetBookDetails" asp-route-id="@data.Id">Edit</a></li>
                    <li><a class="dropdown-item text-danger" onclick="DeleteBook(@data.Id)">Delete</a></li>
                </ul>

                <!-- Book Image -->
                <img src="@data.ImgUrl" alt="@data.Title style="width:100%; height:200px; object-fit:cover;" />
                <!-- Book Title and Author -->
                <h6>@data.Title</h6>
                <small>@data.Author</small>

                <!-- Book Price and Stock Information -->
                <div class="container d-flex align-items-center justify-content-between">
                    <p class="m-0">Price: @data.Price</p>
                    <i class="bi bi-cart" style="font-size: 1.5rem;"></i> <!-- Adjust the icon size if needed -->
                </div>


                <!-- Link to open the book modal (covers the entire card) -->
                <a onclick="OpenBookModal(@data.Id)" class="card-link"></a>
            </div>

            
        }
    </div>
</div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="~/js/books/bookshome.js"></script>

